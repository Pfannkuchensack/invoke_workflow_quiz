{
  "id": "flux-img2img-hard",
  "name": "FLUX Image to Image - Expert",
  "description": "Build an image-to-image workflow from scratch! You need to add missing nodes including VAE Encode, Image Input, and more. Connect all the pieces to create a working img2img pipeline.",
  "difficulty": "hard",
  "workflow": {
    "name": "FLUX Image to Image (Incomplete)",
    "author": "InvokeAI",
    "description": "A FLUX img2img workflow with critical missing nodes",
    "version": "1.0.0",
    "contact": "",
    "tags": "flux, image to image",
    "notes": "",
    "exposedFields": [],
    "meta": {
      "category": "user",
      "version": "3.0.0"
    },
    "nodes": [
      {
        "id": "flux_model_loader",
        "type": "invocation",
        "data": {
          "id": "flux_model_loader",
          "version": "1.0.6",
          "label": "Flux Model Loader",
          "notes": "",
          "type": "flux_model_loader",
          "inputs": {},
          "isOpen": true,
          "isIntermediate": true,
          "useCache": true
        },
        "position": { "x": 0, "y": 300 }
      },
      {
        "id": "flux_text_encoder",
        "type": "invocation",
        "data": {
          "id": "flux_text_encoder",
          "version": "1.1.2",
          "label": "Flux Text Encoder",
          "notes": "",
          "type": "flux_text_encoder",
          "inputs": {
            "prompt": { "name": "prompt", "label": "", "description": "", "value": "An enhanced version of the input image" }
          },
          "isOpen": true,
          "isIntermediate": true,
          "useCache": true
        },
        "position": { "x": 550, "y": 0 }
      },
      {
        "id": "flux_denoise",
        "type": "invocation",
        "data": {
          "id": "flux_denoise",
          "version": "4.0.0",
          "label": "Flux Denoise",
          "notes": "",
          "type": "flux_denoise",
          "inputs": {
            "num_steps": { "name": "num_steps", "label": "", "description": "", "value": 20 },
            "guidance": { "name": "guidance", "label": "", "description": "", "value": 3.5 },
            "denoising_start": { "name": "denoising_start", "label": "", "description": "", "value": 0.3 }
          },
          "isOpen": true,
          "isIntermediate": true,
          "useCache": true
        },
        "position": { "x": 1100, "y": 300 }
      },
      {
        "id": "flux_vae_decode",
        "type": "invocation",
        "data": {
          "id": "flux_vae_decode",
          "version": "1.0.2",
          "label": "Flux VAE Decode",
          "notes": "",
          "type": "flux_vae_decode",
          "inputs": {},
          "isOpen": true,
          "isIntermediate": false,
          "useCache": true
        },
        "position": { "x": 1650, "y": 300 }
      },
      {
        "id": "flux_vae_encode",
        "type": "invocation",
        "data": {
          "id": "flux_vae_encode",
          "version": "1.0.1",
          "label": "Flux VAE Encode",
          "notes": "HIDDEN NODE - Player must add this!",
          "type": "flux_vae_encode",
          "inputs": {},
          "isOpen": true,
          "isIntermediate": true,
          "useCache": true
        },
        "position": { "x": 550, "y": 360 }
      },
      {
        "id": "image_batch",
        "type": "invocation",
        "data": {
          "id": "image_batch",
          "version": "1.0.0",
          "label": "Image Input",
          "notes": "HIDDEN NODE - Player must add this!",
          "type": "image_batch",
          "inputs": {
            "images": { "name": "images", "label": "", "description": "", "value": [] }
          },
          "isOpen": true,
          "isIntermediate": true,
          "useCache": true
        },
        "position": { "x": 0, "y": 600 }
      },
      {
        "id": "rand_int",
        "type": "invocation",
        "data": {
          "id": "rand_int",
          "version": "1.0.1",
          "label": "Random Seed",
          "notes": "HIDDEN NODE - Player must add this!",
          "type": "rand_int",
          "inputs": {
            "low": { "name": "low", "label": "", "description": "", "value": 0 },
            "high": { "name": "high", "label": "", "description": "", "value": 2147483647 }
          },
          "isOpen": true,
          "isIntermediate": true,
          "useCache": true
        },
        "position": { "x": 550, "y": 720 }
      }
    ],
    "edges": [
      {
        "id": "edge-transformer",
        "type": "default",
        "source": "flux_model_loader",
        "target": "flux_denoise",
        "sourceHandle": "transformer",
        "targetHandle": "transformer"
      },
      {
        "id": "edge-vae-denoise",
        "type": "default",
        "source": "flux_model_loader",
        "target": "flux_denoise",
        "sourceHandle": "vae",
        "targetHandle": "controlnet_vae"
      },
      {
        "id": "edge-vae-decode",
        "type": "default",
        "source": "flux_model_loader",
        "target": "flux_vae_decode",
        "sourceHandle": "vae",
        "targetHandle": "vae"
      },
      {
        "id": "edge-vae-encode",
        "type": "default",
        "source": "flux_model_loader",
        "target": "flux_vae_encode",
        "sourceHandle": "vae",
        "targetHandle": "vae"
      },
      {
        "id": "edge-clip",
        "type": "default",
        "source": "flux_model_loader",
        "target": "flux_text_encoder",
        "sourceHandle": "clip",
        "targetHandle": "clip"
      },
      {
        "id": "edge-t5",
        "type": "default",
        "source": "flux_model_loader",
        "target": "flux_text_encoder",
        "sourceHandle": "t5_encoder",
        "targetHandle": "t5_encoder"
      },
      {
        "id": "edge-max-seq",
        "type": "default",
        "source": "flux_model_loader",
        "target": "flux_text_encoder",
        "sourceHandle": "max_seq_len",
        "targetHandle": "t5_max_seq_len"
      },
      {
        "id": "edge-conditioning",
        "type": "default",
        "source": "flux_text_encoder",
        "target": "flux_denoise",
        "sourceHandle": "conditioning",
        "targetHandle": "positive_text_conditioning"
      },
      {
        "id": "edge-latents-denoise",
        "type": "default",
        "source": "flux_vae_encode",
        "target": "flux_denoise",
        "sourceHandle": "latents",
        "targetHandle": "latents"
      },
      {
        "id": "edge-width",
        "type": "default",
        "source": "flux_vae_encode",
        "target": "flux_denoise",
        "sourceHandle": "width",
        "targetHandle": "width"
      },
      {
        "id": "edge-height",
        "type": "default",
        "source": "flux_vae_encode",
        "target": "flux_denoise",
        "sourceHandle": "height",
        "targetHandle": "height"
      },
      {
        "id": "edge-latents-decode",
        "type": "default",
        "source": "flux_denoise",
        "target": "flux_vae_decode",
        "sourceHandle": "latents",
        "targetHandle": "latents"
      },
      {
        "id": "edge-image-encode",
        "type": "default",
        "source": "image_batch",
        "target": "flux_vae_encode",
        "sourceHandle": "image",
        "targetHandle": "image"
      },
      {
        "id": "edge-seed",
        "type": "default",
        "source": "rand_int",
        "target": "flux_denoise",
        "sourceHandle": "value",
        "targetHandle": "seed"
      }
    ]
  },
  "hiddenEdges": [
    "edge-transformer",
    "edge-vae-encode",
    "edge-clip",
    "edge-t5",
    "edge-conditioning",
    "edge-latents-denoise",
    "edge-width",
    "edge-height",
    "edge-latents-decode",
    "edge-image-encode",
    "edge-seed"
  ],
  "hiddenNodes": [
    "flux_vae_encode",
    "image_batch",
    "rand_int"
  ]
}
